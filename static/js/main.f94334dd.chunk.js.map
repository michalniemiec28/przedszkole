{"version":3,"sources":["services/firebase.js","middlewares/saveChangesMiddleware.js","services/store.js","helpers/withIsLoading.js","helpers/withRedirect.js","containers/Header/module.js","helpers/withIsSignedIn.js","containers/Header/MenuItem/SubtabsItem/SubtabsItem.js","containers/Content/module.js","components/ImageUpload/Component/index.tsx","components/ImageUpload/createPlugin.tsx","components/ImageUpload/common/styles.ts","components/ImageUpload/Renderer/ImageHtmlRenderer.tsx","components/Editor/ThemeProvider/index.js","components/Editor/Provider/index.js","components/Editor/Trash/index.js","components/Editor/Toolbar/Draggable/helper/index.js","components/Editor/Toolbar/Draggable/index.js","components/Editor/Toolbar/Item/index.js","components/Editor/Toolbar/index.js","components/Editor/DisplayModeToggle/Button/index.js","components/Editor/DisplayModeToggle/ToggleEdit/index.js","components/Editor/DisplayModeToggle/ToggleInsert/index.js","components/Editor/DisplayModeToggle/ToggleLayout/index.js","components/Editor/DisplayModeToggle/TogglePreview/index.js","components/Editor/DisplayModeToggle/ToggleResize/index.js","components/Editor/DisplayModeToggle/Save/index.js","components/Editor/DisplayModeToggle/index.js","components/Editor/BottomToolbar/index.js","components/Editor/ImageUpload/index.tsx","components/Editor/ColorPicker/index.js","components/ImageUpload/Controls/ImageDefaultControls.tsx","components/ImageUpload/index.tsx","services/editor.js","containers/Header/MenuItem/SubtabsItem/index.js","containers/Header/MenuItem/MenuItem.js","constants/modals.js","containers/Header/MenuItem/index.js","components/Input/Input.js","containers/Header/CreateTab/CreateTab.js","containers/Header/CreateTab/helpers.js","containers/Header/CreateTab/index.js","constants/forms.js","containers/Header/Header.js","constants/other.js","containers/Header/index.js","containers/Home/Home.js","helpers/withIsHidden.js","containers/Home/index.js","containers/Footer/LoginButton/LoginButton.js","containers/Footer/LoginButton/index.js","containers/Footer/Footer.js","containers/Banner/Banner.js","containers/Content/Content.js","containers/Content/index.js","containers/App/module.js","containers/App/App.js","serviceWorker.js","index.js","assets/logo.svg","assets/hello.svg","assets/banner.svg"],"names":["rrfConfig","userProfile","useFirestoreForProfile","Firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","saveChangesMiddleware","dispatch","next","action","initialState","history","createBrowserHistory","staticReducers","router","connectRouter","modal","form","firebaseReducer","firestore","firestoreReducer","notifs","notifReducer","middlewares","routerMiddleware","createReducer","asyncReducers","combineReducers","composeEnhancers","compose","store","createStore","applyMiddleware","injectReducer","key","asyncReducer","replaceReducer","configureStore","withIsLoading","branch","isLoading","renderNothing","withRedirect","connect","redirect","push","createActions","setOpened","prefix","Types","Creators","reducer","SET_OPENED","state","opened","Reducer","isSignedIn","isEmpty","auth","SubtabsItem","name","onRedirect","removeTab","NavDropdown","Item","className","onClick","isDirty","content","undefined","setPath","setDirty","setContent","SET_PATH","tabId","subTabId","SET_CONTENT","SET_DIRTY","Form","props","handleChange","e","target","HTMLInputElement","change","checked","rel","value","onChange","handleImageLoaded","image","setState","imagePreview","handleImageUploaded","resp","src","url","Controls","this","React","createPlugin","settings","Component","version","IconComponent","text","isInlineable","description","handleRemoveHotKey","_","__","Promise","reject","handleFocusPreviousHotKey","handleFocusNextHotKey","handleFocus","source","ref","setTimeout","focus","iconStyle","width","height","padding","color","textAlign","minWidth","minHeight","maxHeight","ImageHtmlRenderer","isEditMode","dataUrl","Image","alt","href","style","generateClassName","createGenerateClassName","productionPrefix","theme","createMuiTheme","typography","useNextVariants","ThemeProvider","children","Provider","DragDropContext","dragDropContext","editor","hover","throttle","monitor","item","getItem","isOver","shallow","clearHover","trailing","drop","didDrop","removeCell","id","Raw","connectDropTarget","isOverCurrent","classNames","isLayoutMode","Fab","disabled","mapDispatchToProps","mapStateToProps","createStructuredSelector","isPreviewMode","isInsertMode","isResizeMode","Decorated","dropTarget","plugins","Object","keys","layout","map","p","hasNativePlugin","getNativePlugin","_connect","Trash","beginDrag","insert","layoutMode","node","rawNode","endDrag","insertMode","collect","connectDragSource","dragSource","isDragging","connectDragPreview","dragPreview","instances","Draggable","shouldComponentUpdate","shouldPureComponentUpdate","img","onload","classes","editMode","translations","primary","secondary","onMouseEnter","tooltipVisible","onMouseLeave","plugin","dragType","draggable","trans","ListItem","Avatar","ListItemText","onMouseDown","visible","placement","overlay","Drawer","variant","open","length","List","subheader","ListSubheader","k","createInitialState","toString","createInitialChildren","Toolbar","DisplayModeToggle","icon","active","size","device","mobile","Button","previewMode","resizeMode","onSave","Inner","ToggleEdit","ToggleInsert","ToggleLayout","ToggleResize","TogglePreview","BottomToolbar","anchor","PaperProps","backgroundColor","border","borderRadius","margin","ImageUpload","fileInput","isUploading","hasError","errorText","progress","hasExtension","fileName","pattern","allowedExtensions","a","toLowerCase","join","replace","RegExp","test","handleError","errorCode","handleFileSelected","files","file","maxFileSize","imageLoaded","readFile","then","data","imageUpload","handleReportProgress","imageUploaded","catch","error","imageUploadError","handleFileUploadClick","click","renderChildren","CircularProgress","marginLeft","buttonContent","resolve","reader","FileReader","result","readAsDataURL","display","type","defaultProps","ColorPicker","isColorPickerVisible","handleClickShowColorPicker","onDialogOpen","rgb","handleChangeComplete","onChangeComplete","Fragment","buttonRef","anchorEl","borderColor","colorToString","borderStyle","borderWidth","Popover","onClose","anchorOrigin","vertical","horizontal","transformOrigin","fontSize","c","r","g","b","ImageDefaultControls","Renderer","readOnly","focused","darkTheme","Typography","marginRight","TextField","placeholder","label","flex","FormControlLabel","control","Checkbox","imagePlugin","editorPlugins","slate","spacer","divider","parallax","defaultPlugin","Editor","editables","updateEditorContent","trigger","editable","update","withFirestore","withProps","tabRoute","subTabRoute","stopPropagation","delete","collection","doc","subcollections","JSON","parse","withIsSignedIn","MenuItem","subtabs","show","setTabId","title","route","Divider","firestoreConnect","storeAs","ordered","Input","input","meta","FormControl","CreateTab","handleHide","handleSubmit","Modal","Header","Title","Body","Field","component","Footer","getInitialContent","connectModal","reduxForm","onSubmit","add","split","tabs","Navbar","collapseOnSelect","expand","expanded","onToggle","fixed","Brand","logo","Toggle","aria-controls","Collapse","Nav","orderBy","header","withState","Home","hello","withIsHidden","isHidden","location","pathname","LoginButton","login","logout","withFirebase","googleAuthProvider","GoogleAuthProvider","signInWithPopup","signOut","Banner","banner","Content","save","useState","template","setTemplate","useCallback","stringify","useEffect","window","scrollTo","saveNotif","kind","message","dismissAfter","notifActions","notifSend","sendNotification","lifecycle","componentDidUpdate","tab","find","subTab","App","config","createFirestoreInstance","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console","module","exports"],"mappings":"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","file":"static/js/main.f94334dd.chunk.js","sourcesContent":["import * as Firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\nimport 'firebase/firestore'\r\n\r\nexport const firebaseConfig = {\r\n  apiKey: 'AIzaSyDxHJ_Obg96rd4-zQ3m2Eir0QUljHmekdA',\r\n  authDomain: 'przedszkole-nr-3.firebaseapp.com',\r\n  databaseURL: 'https://przedszkole-nr-3.firebaseio.com',\r\n  projectId: 'przedszkole-nr-3',\r\n  storageBucket: 'przedszkole-nr-3.appspot.com',\r\n  messagingSenderId: '92650545152',\r\n  appId: '1:92650545152:web:8c8ee406615ae2ec63b8e5'\r\n}\r\n\r\nexport const rrfConfig = {\r\n  userProfile: 'users',\r\n  useFirestoreForProfile: true\r\n  // enableClaims: true // Get custom claims along with the profile\r\n}\r\n\r\nFirebase.initializeApp(firebaseConfig)\r\nFirebase.firestore()\r\n\r\nexport const firebase = Firebase\r\n","// import { sendNotification } from 'containers/App/module'\r\n\r\n// let isDirty\r\n\r\nconst saveChangesMiddleware = ({ dispatch }) => next => action => {\r\n  // if (action.type && action.type === \"@content/SET_DIRTY\") {\r\n  //   isDirty = true\r\n  //   next(action)\r\n  // }\r\n\r\n  // if (isDirty) {\r\n  //   console.info('fuck', { isDirty, action })\r\n\r\n  //   if (action.type === \"@@reduxFirestore/UPDATE_REQUEST\") {\r\n  //     next(action);\r\n  //     isDirty = false\r\n  //   }\r\n  // } else {\r\n    next(action);\r\n  // }\r\n}\r\n\r\nexport default saveChangesMiddleware\r\n","import { connectRouter, routerMiddleware } from 'connected-react-router'\r\nimport { createBrowserHistory } from 'history'\r\nimport { applyMiddleware, compose, createStore, combineReducers } from 'redux'\r\nimport { reducer as modal } from 'redux-modal'\r\nimport { reducer as form } from 'redux-form'\r\nimport { firebaseReducer } from 'react-redux-firebase'\r\nimport { firestoreReducer } from 'redux-firestore'\r\nimport { reducer as notifReducer } from 'redux-notifications'\r\nimport saveChangesMiddleware from 'middlewares/saveChangesMiddleware'\r\n\r\nconst configureStore = initialState => {\r\n  const history = createBrowserHistory()\r\n\r\n  const staticReducers = {\r\n    router: connectRouter(history),\r\n    modal,\r\n    form,\r\n    firebase: firebaseReducer,\r\n    firestore: firestoreReducer,\r\n    notifs: notifReducer\r\n  }\r\n\r\n  const middlewares = [\r\n    routerMiddleware(history),\r\n    saveChangesMiddleware\r\n  ]\r\n\r\n  const createReducer = asyncReducers =>\r\n  combineReducers({\r\n    ...staticReducers,\r\n    ...asyncReducers,\r\n  })\r\n\r\n  const composeEnhancers =\r\n    typeof window === 'object' &&\r\n    process.env.NODE_ENV !== 'production' &&\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\r\n      : compose\r\n\r\n  const store = createStore(\r\n    createReducer(),\r\n    initialState,\r\n    composeEnhancers(applyMiddleware(...middlewares))\r\n  )\r\n\r\n  store.asyncReducers = {}\r\n  store.injectReducer = (key, asyncReducer) => {\r\n    if (store.asyncReducers[key]) {\r\n      return\r\n    }\r\n    store.asyncReducers[key] = asyncReducer\r\n    store.replaceReducer(createReducer(store.asyncReducers))\r\n  }\r\n\r\n  return { store, history }\r\n}\r\n\r\nexport const { store, history } = configureStore()\r\n","import { branch, renderNothing } from 'recompose'\r\n\r\n// TODO: render loader instead of nothing\r\nconst withIsLoading = branch(({ isLoading }) => isLoading, renderNothing)\r\n\r\nexport default withIsLoading\r\n","import { push } from 'connected-react-router'\r\nimport { connect } from 'react-redux'\r\n\r\nconst withRedirect = connect(null, { redirect: push })\r\n\r\nexport default withRedirect\r\n","import { createActions, createReducer } from 'reduxsauce'\r\n\r\nconst initialState = {\r\n  opened: false\r\n}\r\n\r\nexport const { Types, Creators } = createActions(\r\n  {\r\n    setOpened: ['opened'],\r\n  }, \r\n  { prefix: '@content/' }\r\n)\r\n\r\nconst reducer = {\r\n  [Types.SET_OPENED]: (state, { opened }) => ({\r\n    opened\r\n  }),\r\n  '@@router/LOCATION_CHANGE': () => ({\r\n    opened: false\r\n  })\r\n}\r\n\r\nexport const Reducer = createReducer(initialState, reducer)\r\n","import { connect } from 'react-redux'\r\nimport { isEmpty } from 'react-redux-firebase'\r\n\r\nexport default connect(state => ({\r\n  isSignedIn: !isEmpty(state.firebase.auth)\r\n}))\r\n","import React from 'react'\r\nimport { NavDropdown } from 'react-bootstrap'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\nconst SubtabsItem = ({ isSignedIn, name, onRedirect, removeTab }) =>\r\n  <NavDropdown.Item\r\n    className='MenuItem__item'\r\n    onClick={onRedirect}\r\n  >\r\n    {name}\r\n    {isSignedIn && <DeleteIcon onClick={removeTab} />}\r\n  </NavDropdown.Item>\r\n\r\nexport default SubtabsItem\r\n","import { createActions, createReducer } from 'reduxsauce'\r\n\r\nconst initialState = {\r\n  isDirty: false,\r\n  content: undefined\r\n}\r\n\r\nexport const { Types, Creators } = createActions(\r\n  {\r\n    setPath: ['tabId', 'subTabId'],\r\n    setDirty: ['isDirty'],\r\n    setContent: ['content']\r\n  }, \r\n  { prefix: '@content/' }\r\n)\r\n\r\nconst reducer = {\r\n  [Types.SET_PATH]: (state, { tabId, subTabId }) => ({\r\n    ...state,\r\n    tabId,\r\n    subTabId\r\n  }),\r\n  [Types.SET_CONTENT]: (state, { content }) => ({\r\n    ...state,\r\n    content,\r\n    isDirty: false\r\n  }),\r\n  [Types.SET_DIRTY]: (state) => ({\r\n    ...state,\r\n    isDirty: true\r\n  })\r\n}\r\n\r\nexport const Reducer = createReducer(initialState, reducer)\r\n","/*\n * This file is part of ORY Editor.\n *\n * ORY Editor is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * ORY Editor is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with ORY Editor.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @license LGPL-3.0\n * @copyright 2016-2018 Aeneas Rekkas\n * @author Aeneas Rekkas <aeneas+oss@aeneas.io>\n *\n */\n\nimport * as React from 'react';\nimport { ImageLoaded, ImageUploaded } from 'components/Editor/ImageUpload';\nimport { ImageProps } from '../types/component';\nimport { ImageState } from './../types/state';\n\ntype StateType = {\n  imagePreview?: ImageLoaded;\n};\n\nclass Form extends React.Component<ImageProps, StateType> {\n  constructor(props: ImageProps) {\n    super(props);\n    this.state = {};\n  }\n\n  handleChange = (\n    e: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    const target = e.target;\n    if (target instanceof HTMLInputElement) {\n      let change: Partial<ImageState> = {};\n\n      if (target.name === 'target') {\n        if (target.checked) {\n          change.target = '_blank';\n          // noopener is safer but not supported in IE, so noreferrer adds some security\n          change.rel = 'noreferrer noopener';\n        } else {\n          change.target = null;\n          change.rel = null;\n        }\n      } else {\n        change[target.name] = target.value;\n      }\n\n      this.props.onChange(change);\n      return;\n    }\n  }\n\n  handleImageLoaded = (image: ImageLoaded) =>\n    this.setState({ imagePreview: image })\n\n  handleImageUploaded = (resp: ImageUploaded) => {\n    this.setState({ imagePreview: undefined });\n    this.props.onChange({ src: resp.url });\n  }\n\n  render() {\n    const { Controls } = this.props;\n    return (\n      <Controls\n        {...this.props}\n        imagePreview={this.state.imagePreview}\n        handleImageLoaded={this.handleImageLoaded}\n        handleImageUploaded={this.handleImageUploaded}\n        handleChange={this.handleChange}\n      />\n    );\n  }\n}\n\nexport default Form;\n","/*\n * This file is part of ORY Editor.\n *\n * ORY Editor is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * ORY Editor is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with ORY Editor.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @license LGPL-3.0\n * @copyright 2016-2018 Aeneas Rekkas\n * @author Aeneas Rekkas <aeneas+oss@aeneas.io>\n *\n */\nimport * as React from 'react';\nimport Component from './Component/index';\nimport Panorama from '@material-ui/icons/Panorama';\nimport {\n  ContentPluginProps,\n  ContentPluginConfig\n} from 'ory-editor-core/lib/service/plugin/classes';\nimport { ImageState } from './types/state';\nimport { ImageSettings } from './types/settings';\n\nconst createPlugin = (\n  settings?: ImageSettings\n): ContentPluginConfig<ImageState> => {\n  return {\n    Component: (props: ContentPluginProps<ImageState>) => (\n      <Component {...props} {...settings} />\n    ),\n    name: 'ory/editor/core/content/image',\n    version: '0.0.1',\n    IconComponent: <Panorama />,\n    text: 'Image',\n    isInlineable: true,\n    description: 'Loads an image from an url.',\n\n    handleRemoveHotKey: (_: Event, __: ContentPluginProps): Promise<void> =>\n      Promise.reject(),\n    handleFocusPreviousHotKey: (\n      _: Event,\n      __: ContentPluginProps\n    ): Promise<void> => Promise.reject(),\n    handleFocusNextHotKey: (_: Event, __: ContentPluginProps): Promise<void> =>\n      Promise.reject(),\n\n    // We need this because otherwise we lose hotkey focus on elements like spoilers.\n    // This could probably be solved in an easier way by listening to window.document?\n\n    // tslint:disable-next-line:no-any\n    handleFocus: (props: any, source: any, ref: HTMLElement) => {\n      if (!ref) {\n        return;\n      }\n      setTimeout(() => ref.focus());\n    },\n  };\n};\nexport default createPlugin;","/*\n * This file is part of ORY Editor.\n *\n * ORY Editor is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * ORY Editor is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with ORY Editor.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @license LGPL-3.0\n * @copyright 2016-2018 Aeneas Rekkas\n * @author Aeneas Rekkas <aeneas+oss@aeneas.io>\n *\n */\n\n// material icons isn't allowing us to override style properties with className/styleName\nexport const iconStyle: React.CSSProperties = {\n  width: '100%',\n  height: 'auto',\n  padding: '0',\n  color: '#aaa',\n  textAlign: 'center',\n  minWidth: 64,\n  minHeight: 64,\n  maxHeight: 256,\n};\n","import * as React from 'react';\nimport { ImageRendererProps } from '../types/renderer';\nimport { iconStyle } from './../common/styles';\nimport ImageIcon from '@material-ui/icons/Landscape';\n\nconst ImageHtmlRenderer: React.SFC<ImageRendererProps> = props => {\n  const { isEditMode, state, imagePreview } = props;\n  const src = imagePreview ? imagePreview.dataUrl : state.src;\n  const Image = <img className=\"ory-plugins-content-image\" alt=\"\" src={src} />;\n  return src ? (\n    <div>\n      {state.href && !isEditMode ? (\n        <a href={state.href} target={state.target} rel={state.rel}>\n          {Image}\n        </a>\n      ) : (\n        Image\n      )}\n    </div>\n  ) : (\n    <div>\n      <div className=\"ory-plugins-content-image-placeholder\">\n        <ImageIcon style={iconStyle} />\n      </div>\n    </div>\n  );\n};\n\nexport default ImageHtmlRenderer;\n","import React from 'react';\r\nimport { JssProvider } from 'react-jss';\r\nimport {\r\n  MuiThemeProvider,\r\n  createGenerateClassName,\r\n  createMuiTheme\r\n} from '@material-ui/core/styles';\r\n\r\nconst generateClassName = createGenerateClassName({ productionPrefix: 'ory' });\r\nexport const themeOptions = {\r\n  typography: {\r\n    useNextVariants: true,\r\n  },\r\n};\r\nconst theme = createMuiTheme(themeOptions);\r\n\r\nclass ThemeProvider extends React.Component {\r\n  render() {\r\n    return (\r\n      <JssProvider generateClassName={generateClassName}>\r\n        <MuiThemeProvider theme={this.props.theme || theme}>\r\n          {this.props.children}\r\n        </MuiThemeProvider>\r\n      </JssProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ThemeProvider;\r\n","import React from 'react';\r\nimport { Provider as ReduxProvider } from 'react-redux';\r\nimport dragDropContext from 'ory-editor-core/lib/components/DragDropContext';\r\nimport ThemeProvider from '../ThemeProvider/index';\r\n\r\nclass Provider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.DragDropContext = dragDropContext(props.editor.dragDropContext);\r\n  }\r\n\r\n  render() {\r\n    const { editor, children = [] } = this.props;\r\n    const DragDropContext = this.DragDropContext;\r\n    return (\r\n      <ReduxProvider store={editor.store}>\r\n        <DragDropContext>\r\n          <ThemeProvider>{children}</ThemeProvider>\r\n        </DragDropContext>\r\n      </ReduxProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Provider;\r\n","import React from 'react';\r\nimport { DropTarget as dropTarget } from 'react-dnd';\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport { connect } from 'react-redux';\r\nimport classNames from 'classnames';\r\nimport { removeCell } from 'ory-editor-core/lib/actions/cell/core';\r\nimport throttle from 'lodash.throttle';\r\nimport {\r\n  isEditMode,\r\n  isLayoutMode,\r\n  isPreviewMode,\r\n  isInsertMode,\r\n  isResizeMode\r\n} from 'ory-editor-core/lib/selector/display';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport Provider from '../Provider/index';\r\n\r\nconst target = {\r\n  hover: throttle(\r\n    (props, monitor) => {\r\n      const item = monitor.getItem();\r\n      if (monitor.isOver({ shallow: true })) {\r\n        item.clearHover();\r\n      }\r\n    },\r\n    200,\r\n    { trailing: false }\r\n  ),\r\n\r\n  drop(props, monitor) {\r\n    const item = monitor.getItem();\r\n    if (monitor.didDrop() || !monitor.isOver({ shallow: true })) {\r\n      // If the item drop occurred deeper down the tree, don't do anything\r\n      return;\r\n    }\r\n\r\n    props.removeCell(item.id);\r\n  },\r\n};\r\n\r\nconst connectMonitor = (_connect, monitor) => ({\r\n  connectDropTarget: _connect.dropTarget(),\r\n  isOverCurrent: monitor.isOver({ shallow: true }),\r\n});\r\n\r\nclass Raw extends React.Component {\r\n  render() {\r\n    const { connectDropTarget, isOverCurrent } = this.props;\r\n    return connectDropTarget(\r\n      <div\r\n        className={classNames('ory-controls-trash', {\r\n          'ory-controls-trash-active': this.props.isLayoutMode,\r\n        })}\r\n      >\r\n        <Fab color=\"secondary\" disabled={!isOverCurrent}>\r\n          <Delete />\r\n        </Fab>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst types = ({ editor }) => {\r\n  const plugins = [\r\n    ...Object.keys(editor.plugins.plugins.layout),\r\n    ...Object.keys(editor.plugins.plugins.content),\r\n  ].map((p) =>\r\n      editor.plugins.plugins.content[p].name ||\r\n      editor.plugins.plugins.layout[p].name\r\n  );\r\n\r\n  if (editor.plugins.hasNativePlugin()) {\r\n    plugins.push(editor.plugins.getNativePlugin()().name);\r\n  }\r\n\r\n  return plugins;\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  removeCell,\r\n};\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  isEditMode,\r\n  isLayoutMode,\r\n  isPreviewMode,\r\n  isInsertMode,\r\n  isResizeMode,\r\n});\r\n\r\nconst Decorated = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(dropTarget(types, target, connectMonitor)(Raw));\r\n\r\nconst Trash = props => (\r\n  <Provider {...props}>\r\n    <Decorated {...props} />\r\n  </Provider>\r\n);\r\n\r\nexport default Trash;\r\n","export const source = {\r\n  beginDrag({ insert, ...props }) {\r\n    props.layoutMode();\r\n    return {\r\n      node: insert,\r\n      rawNode: () => insert,\r\n      ...props,\r\n    };\r\n  },\r\n\r\n  endDrag(props, monitor) {\r\n    const item = monitor.getItem();\r\n    if (monitor.didDrop()) {\r\n      setTimeout(() => {\r\n        item.insertMode();\r\n      }, 10);\r\n      // If the item drop occurred deeper down the tree, don't do anything\r\n      return;\r\n    }\r\n\r\n    item.clearHover();\r\n    setTimeout(() => {\r\n      item.insertMode();\r\n    }, 100);\r\n  },\r\n};\r\n\r\nexport const collect = (connect, monitor) => ({\r\n  connectDragSource: connect.dragSource(),\r\n  isDragging: monitor.isDragging(),\r\n  connectDragPreview: connect.dragPreview(),\r\n});\r\n","import React from 'react';\r\nimport { shouldPureComponentUpdate } from 'ory-editor-core/lib/helper/shouldComponentUpdate';\r\nimport { DragSource as dragSource } from 'react-dnd';\r\nimport { source, collect } from './helper/index';\r\nimport classNames from 'classnames';\r\nimport { connect } from 'react-redux';\r\nimport { clearHover } from 'ory-editor-core/lib/actions/cell/drag';\r\nimport {\r\n  insertMode,\r\n  editMode,\r\n  layoutMode\r\n} from 'ory-editor-core/lib/actions/display';\r\n\r\nconst instances = {};\r\n\r\nclass Draggable extends React.Component {\r\n  shouldComponentUpdate = shouldPureComponentUpdate;\r\n\r\n  componentDidMount() {\r\n    const img = new Image();\r\n    img.onload = () => this.props.connectDragPreview(img);\r\n    img.src =\r\n      // tslint:disable-next-line:max-line-length\r\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAhCAYAAACbffiEAAAA6UlEQVRYhe2ZQQ6CMBBFX0njHg7ESXTp1p3uvIBewc3Em3AfdelSFwRDCAm01JRO+pa0lP8zzc9kMCKyAa7AFqhIixdwB44WuACHuHq8KWm1vwtgF1lMCPaWkevUNE3Qr9R17XTu1P5uvUdV+IpbG2qMGBH5xBYRAjUVUWPEjj10SS3XRFry3kha/VBTETVGcmqtDTVGFqdWn7k9ku96f88QNRVRYySn1tpQY8QptXz7qinmnpt7rZTIqbU21BgJ2mv1+XfCDVFTETVGjIg8SG8KP+RZ0I7lU+dmgRNgaKfyZVw9znT/R85fOHJJE77U6UcAAAAASUVORK5CYII=';\r\n  }\r\n\r\n  render() {\r\n    const { connectDragSource, isDragging, children, className } = this.props;\r\n    const classes = classNames(\r\n      className,\r\n      { 'ory-toolbar-draggable-is-dragged': isDragging },\r\n      'ory-toolbar-draggable'\r\n    );\r\n\r\n    return connectDragSource(<div className={classes}>{children}</div>);\r\n  }\r\n}\r\n\r\nconst mapStateToProps = null;\r\n\r\nconst mapDispatchToProps = { insertMode, editMode, layoutMode, clearHover };\r\n\r\nexport default (dragType = 'CELL') => {\r\n  if (!instances[dragType]) {\r\n    instances[dragType] = connect(\r\n      mapStateToProps,\r\n      mapDispatchToProps\r\n    )(dragSource(dragType, source, collect)(Draggable));\r\n  }\r\n\r\n  return instances[dragType];\r\n};\r\n","import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport draggable from '../Draggable/index';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport DragHandle from '@material-ui/icons/DragHandle';\r\nimport Tooltip from 'rc-tooltip';\r\n\r\nconst translations = {\r\n  'Text': {\r\n    primary: 'Tekst',\r\n    secondary: 'Zaawansowany edytor tekstu.'\r\n  },\r\n  'Spacer': {\r\n    primary: 'Puste miejsce',\r\n    secondary: 'Uzywane do rozdzielenia elementów.'\r\n  },\r\n  'Divider': {\r\n    primary: 'Kreska',\r\n    secondary: 'Po prostu kreska rozdzielająca.'\r\n  },\r\n  'Parallax Background (deprecated)': {\r\n    primary: 'Tekst na tle',\r\n    secondary: `Element, w którym tekst mozna scrollować \r\n    a tło zostaje w miejscu.`\r\n  },\r\n  'Image': {\r\n    primary: 'Zdjęcie',\r\n    secondary: 'Dodaj zdjęcie ze strony internetowej'\r\n  }\r\n}\r\n\r\nclass Item extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tooltipVisible: false,\r\n    };\r\n  }\r\n\r\n  onMouseEnter = () => {\r\n    this.setState({ tooltipVisible: true });\r\n  }\r\n\r\n  onMouseLeave = () => {\r\n    this.setState({ tooltipVisible: false });\r\n  }\r\n\r\n  render() {\r\n    const { plugin, insert } = this.props;\r\n    if (!plugin.IconComponent && !plugin.text) {\r\n      // logger.warn('Plugin text or plugin icon missing', plugin)\r\n      return null;\r\n    }\r\n\r\n    const Draggable = draggable(plugin.name);\r\n    const trans = translations[plugin.text]\r\n\r\n    // not using css modules here because they don't work with svg icons\r\n    return (\r\n      <ListItem className=\"ory-toolbar-item\">\r\n        <Avatar children={plugin.IconComponent} />\r\n        <span style={{ width: 10 }} /> \r\n        <ListItemText primary={trans.primary} secondary={trans.secondary} />\r\n        <span\r\n          className=\"ory-toolbar-item-drag-handle-button\"\r\n          onMouseEnter={this.onMouseEnter}\r\n          onMouseLeave={this.onMouseLeave}\r\n          onMouseDown={this.onMouseLeave}\r\n        >\r\n          <Draggable insert={insert}>\r\n            <Tooltip\r\n              visible={this.state.tooltipVisible}\r\n              placement=\"bottomLeft\"\r\n              overlay={<span>Przeciągnij mnie!</span>}\r\n            >\r\n              <DragHandle className=\"ory-toolbar-item-drag-handle\" />\r\n            </Tooltip>\r\n          </Draggable>\r\n        </span>\r\n      </ListItem>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Item;\r\n","import React from 'react';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport { connect } from 'react-redux';\r\nimport { isInsertMode } from 'ory-editor-core/lib/selector/display';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport List from '@material-ui/core/List';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport Item from './Item/index';\r\nimport Provider from '../Provider/index';\r\n\r\nclass Raw extends React.Component {\r\n  render() {\r\n    const {\r\n      editor: { plugins },\r\n    } = this.props;\r\n    const { content, layout } = plugins.plugins\r\n\r\n    return (\r\n      <Drawer\r\n        variant=\"persistent\"\r\n        className=\"ory-toolbar-drawer\"\r\n        open={this.props.isInsertMode}\r\n      >\r\n        {content.length > 0 && (\r\n          <List subheader={<ListSubheader>Elementy tekstowe</ListSubheader>}>\r\n            {content.map((plugin, k) => {\r\n              const initialState = plugin.createInitialState();\r\n\r\n              return (\r\n                <Item\r\n                  plugin={plugin}\r\n                  key={k.toString()}\r\n                  insert={{\r\n                    content: {\r\n                      plugin,\r\n                      state: initialState,\r\n                    },\r\n                  }}\r\n                />\r\n              );\r\n            })}\r\n          </List>\r\n        )}\r\n        {layout.length > 0 && (\r\n          <List subheader={<ListSubheader>Elementy wyglądu</ListSubheader>}>\r\n            {layout.map((plugin, k) => {\r\n              const initialState = plugin.createInitialState();\r\n              const children = plugin.createInitialChildren();\r\n\r\n              return (\r\n                <Item\r\n                  plugin={plugin}\r\n                  key={k.toString()}\r\n                  insert={{\r\n                    ...children,\r\n                    layout: {\r\n                      plugin,\r\n                      state: initialState,\r\n                    },\r\n                  }}\r\n                />\r\n              );\r\n            })}\r\n          </List>\r\n        )}\r\n      </Drawer>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({ isInsertMode });\r\n\r\nconst Decorated = connect(mapStateToProps)(Raw);\r\n\r\nconst Toolbar = props => (\r\n  <Provider {...props}>\r\n    <Decorated {...props} />\r\n  </Provider>\r\n);\r\n\r\nexport default Toolbar;\r\n","import React from 'react';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport { device } from 'device.js';\r\n\r\nconst DisplayModeToggle = ({\r\n  description,\r\n  icon,\r\n  onClick,\r\n  active,\r\n  disabled,\r\n}) => (\r\n  <div className=\"ory-controls-mode-toggle-button\">\r\n    <div className=\"ory-controls-mode-toggle-button-inner\">\r\n      <Fab\r\n        color={active ? 'secondary' : 'default'}\r\n        size={device.mobile ? 'small' : 'large'}\r\n        onClick={onClick}\r\n        disabled={disabled}\r\n      >\r\n        {icon}\r\n      </Fab>\r\n    </div>\r\n    <div className=\"ory-controls-mode-toggle-button-description\">\r\n      {description}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default DisplayModeToggle;\r\n","import React from 'react';\r\nimport Create from '@material-ui/icons/Create';\r\nimport Button from '../Button/index';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport { editMode } from 'ory-editor-core/lib/actions/display';\r\nimport { isEditMode } from 'ory-editor-core/lib/selector/display';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nconst Inner = props => (\r\n  <Button\r\n    icon={<Create />}\r\n    description=\"Edytuj\"\r\n    active={props.isEditMode}\r\n    onClick={props.editMode}\r\n  />\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({ isEditMode });\r\nconst mapDispatchToProps = { editMode };\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Inner);\r\n","import React from 'react';\r\nimport ContentAdd from '@material-ui/icons/Add';\r\nimport Button from '../Button/index';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport { insertMode } from 'ory-editor-core/lib/actions/display';\r\nimport { isInsertMode } from 'ory-editor-core/lib/selector/display';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nconst Inner = props => (\r\n  <Button\r\n    icon={<ContentAdd />}\r\n    description=\"Dodaj\"\r\n    active={props.isInsertMode}\r\n    onClick={props.insertMode}\r\n  />\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({ isInsertMode });\r\nconst mapDispatchToProps = { insertMode };\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Inner);\r\n","import React from 'react';\r\nimport ViewQuilt from '@material-ui/icons/ViewQuilt';\r\nimport Button from '../Button';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport { layoutMode } from 'ory-editor-core/lib/actions/display';\r\nimport { isLayoutMode } from 'ory-editor-core/lib/selector/display';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nconst Inner = props => (\r\n  <Button\r\n    icon={<ViewQuilt />}\r\n    description=\"Przesuń lub usuń\"\r\n    active={props.isLayoutMode}\r\n    onClick={props.layoutMode}\r\n  />\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({ isLayoutMode });\r\nconst mapDispatchToProps = { layoutMode };\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Inner);\r\n","import React from 'react';\r\nimport Devices from '@material-ui/icons/Devices';\r\nimport { connect } from 'react-redux';\r\nimport { previewMode } from 'ory-editor-core/lib/actions/display';\r\nimport { isPreviewMode } from 'ory-editor-core/lib/selector/display';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport Button from '../Button/index';\r\n\r\nconst Inner = props => (\r\n  <Button\r\n    icon={<Devices />}\r\n    description=\"Zobacz rezultat\"\r\n    active={props.isPreviewMode}\r\n    onClick={props.previewMode}\r\n  />\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({ isPreviewMode });\r\nconst mapDispatchToProps = { previewMode };\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Inner);\r\n","import React from 'react';\r\nimport Resize from '@material-ui/icons/SettingsOverscan';\r\nimport { connect } from 'react-redux';\r\nimport { resizeMode } from 'ory-editor-core/lib/actions/display';\r\nimport { isResizeMode } from 'ory-editor-core/lib/selector/display';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport Button from '../Button/index';\r\n\r\nconst Inner = props => (\r\n  <Button\r\n    icon={<Resize />}\r\n    description=\"Zmień rozmiar\"\r\n    active={props.isResizeMode}\r\n    onClick={props.resizeMode}\r\n  />\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({ isResizeMode });\r\nconst mapDispatchToProps = { resizeMode };\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Inner);\r\n","import React from 'react';\r\nimport Save from '@material-ui/icons/Save';\r\nimport Button from '../Button/index';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport { isEditMode } from 'ory-editor-core/lib/selector/display';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nconst Inner = props => (\r\n  <Button\r\n    icon={<Save />}\r\n    description=\"Zapisz\"\r\n    active={props.isEditMode}\r\n    onClick={props.onSave}\r\n  />\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({ isEditMode });\r\n\r\nexport default connect(mapStateToProps)(Inner);\r\n","import React from 'react';\r\n\r\nimport Provider from '../Provider/index';\r\nimport ToggleEdit from './ToggleEdit/index';\r\nimport ToggleInsert from './ToggleInsert/index';\r\nimport ToggleLayout from './ToggleLayout/index';\r\nimport TogglePreview from './TogglePreview/index';\r\nimport ToggleResize from './ToggleResize/index';\r\nimport Save from './Save/index';\r\n\r\nconst Inner = props => (\r\n  <Provider {...props}>\r\n    <div className=\"ory-controls-mode-toggle-control-group\">\r\n      <div className=\"ory-controls-mode-toggle-control\">\r\n        <ToggleEdit />\r\n        <div className=\"ory-controls-mode-toggle-clearfix\" />\r\n      </div>\r\n\r\n      <div className=\"ory-controls-mode-toggle-control\">\r\n        <ToggleInsert />\r\n        <div className=\"ory-controls-mode-toggle-clearfix\" />\r\n      </div>\r\n\r\n      <div className=\"ory-controls-mode-toggle-control\">\r\n        <ToggleLayout />\r\n        <div className=\"ory-controls-mode-toggle-clearfix\" />\r\n      </div>\r\n\r\n      <div className=\"ory-controls-mode-toggle-control\">\r\n        <ToggleResize />\r\n        <div className=\"ory-controls-mode-toggle-clearfix\" />\r\n      </div>\r\n\r\n      <div className=\"ory-controls-mode-toggle-control\">\r\n        <TogglePreview />\r\n        <div className=\"ory-controls-mode-toggle-clearfix\" />\r\n      </div>\r\n\r\n      <div className=\"ory-controls-mode-toggle-control\">\r\n        <Save onSave={props.onSave} />\r\n        <div className=\"ory-controls-mode-toggle-clearfix\" />\r\n      </div>\r\n    </div>\r\n  </Provider>\r\n);\r\n\r\nexport default Inner;\r\n","import Drawer from '@material-ui/core/Drawer'\r\nimport React from 'react'\r\nimport ThemeProvider from '../ThemeProvider/index'\r\n\r\nconst darkBlack = 'rgba(0, 0, 0, 0.87)';\r\n\r\nconst BottomToolbar = ({\r\n  open = false,\r\n  children,\r\n  className,\r\n  theme,\r\n}) => (\r\n  <ThemeProvider theme={theme}>\r\n    <Drawer\r\n      variant=\"persistent\"\r\n      className={className}\r\n      open={open}\r\n      anchor=\"bottom\"\r\n      PaperProps={{\r\n        style: {\r\n          backgroundColor: 'transparent',\r\n          border: 'none',\r\n        },\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          border: `${darkBlack} 1px solid`,\r\n          borderRadius: '4px 4px 0 0',\r\n          backgroundColor: darkBlack,\r\n          padding: '12px 24px',\r\n          margin: 'auto',\r\n        }}\r\n      >\r\n        {children}\r\n      </div>\r\n    </Drawer>\r\n  </ThemeProvider>\r\n);\r\n\r\nexport default BottomToolbar;\r\n","import * as React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\n\r\nconst NO_FILE_ERROR_CODE = 1;\r\nconst BAD_EXTENSION_ERROR_CODE = 2;\r\nconst TOO_BIG_ERROR_CODE = 3;\r\nconst UPLOADING_ERROR_CODE = 4;\r\n\r\nexport type ImageLoaded = {\r\n  file: Object;\r\n  dataUrl: string;\r\n};\r\n\r\nexport type ImageUploaded = {\r\n  url: string;\r\n};\r\n\r\nexport type ImageUploadType = (\r\n  file: File,\r\n  reportProgress: (progress: number) => void\r\n) => Promise<ImageUploaded>;\r\nexport type ImageUploadProps = {\r\n  imageLoaded?: (image: ImageLoaded) => void;\r\n  imageUpload: ImageUploadType;\r\n  imageUploadError?: (errorCode: number) => void;\r\n  imageUploaded: (resp: ImageUploaded) => void;\r\n  buttonContent?: JSX.Element | string;\r\n  icon?: JSX.Element;\r\n  style?: React.CSSProperties;\r\n  maxFileSize?: number;\r\n  allowedExtensions?: string[];\r\n};\r\n\r\nexport type ImageUploadState = {\r\n  isUploading: boolean;\r\n  hasError: boolean;\r\n  errorText: string;\r\n  progress: number;\r\n};\r\n\r\nclass ImageUpload extends React.Component<ImageUploadProps, ImageUploadState> {\r\n  static defaultProps = {\r\n    buttonContent: 'Upload image',\r\n    icon: <CloudUploadIcon style={{ marginLeft: '8px' }} />,\r\n    allowedExtensions: ['jpg', 'jpeg', 'png'],\r\n    maxFileSize: 5242880,\r\n  };\r\n  fileInput: HTMLInputElement;\r\n\r\n  state: ImageUploadState = {\r\n    isUploading: false,\r\n    hasError: false,\r\n    errorText: '',\r\n    progress: 0,\r\n  };\r\n  props: ImageUploadProps;\r\n\r\n  hasExtension = (fileName: string) => {\r\n    const patternPart = this.props.allowedExtensions\r\n      ? this.props.allowedExtensions.map(a => a.toLowerCase()).join('|')\r\n      : '';\r\n    const pattern = '(' + patternPart.replace(/\\./g, '\\\\.') + ')$';\r\n    return new RegExp(pattern, 'i').test(fileName.toLowerCase());\r\n  }\r\n\r\n  handleError = (errorCode: number) => {\r\n    let errorText = '';\r\n    switch (errorCode) {\r\n      case NO_FILE_ERROR_CODE:\r\n        errorText = 'No file selected';\r\n        break;\r\n      case BAD_EXTENSION_ERROR_CODE:\r\n        errorText = 'Bad file type';\r\n        break;\r\n      case TOO_BIG_ERROR_CODE:\r\n        errorText = 'Too big';\r\n        break;\r\n      case UPLOADING_ERROR_CODE:\r\n        errorText = 'Error while uploading';\r\n        break;\r\n      default:\r\n        errorText = 'Unknown error';\r\n        break;\r\n    }\r\n    // Need to flick \"isUploading\" because otherwise the handler doesn't fire properly\r\n    this.setState({ hasError: true, errorText, isUploading: true }, () =>\r\n      this.setState({ isUploading: false })\r\n    );\r\n    setTimeout(() => this.setState({ hasError: false, errorText: '' }), 5000);\r\n  }\r\n\r\n  handleFileSelected: React.ChangeEventHandler<HTMLInputElement> = e => {\r\n    if (!e.target.files || !e.target.files[0]) {\r\n      this.handleError(NO_FILE_ERROR_CODE);\r\n      return;\r\n    }\r\n    const file = e.target.files[0];\r\n    if (!this.hasExtension(file.name)) {\r\n      this.handleError(BAD_EXTENSION_ERROR_CODE);\r\n      return;\r\n    }\r\n    if (file.size > this.props.maxFileSize) {\r\n      this.handleError(TOO_BIG_ERROR_CODE);\r\n      return;\r\n    }\r\n    if (this.props.imageLoaded) {\r\n      this.readFile(file).then(data => this.props.imageLoaded(data));\r\n    }\r\n    if (this.props.imageUpload) {\r\n      this.setState({ isUploading: true });\r\n      this.props\r\n        .imageUpload(file, this.handleReportProgress)\r\n        .then(resp => {\r\n          this.setState({ progress: undefined, isUploading: false });\r\n          this.props.imageUploaded && this.props.imageUploaded(resp);\r\n        })\r\n        .catch(error => {\r\n          this.setState({ isUploading: false });\r\n          this.props.imageUploadError && this.props.imageUploadError(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  readFile(file: File): Promise<ImageLoaded> {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n\r\n      // Read the image via FileReader API and save image result in state.\r\n      reader.onload = function(e: ProgressEvent) {\r\n        // Add the file name to the data URL\r\n        // tslint:disable-next-line\r\n        let dataUrl: string = (e.target as any).result;\r\n        dataUrl = dataUrl.replace(';base64', `;name=${file.name};base64`);\r\n        resolve({ file, dataUrl });\r\n      };\r\n\r\n      reader.readAsDataURL(file);\r\n    });\r\n  }\r\n\r\n  handleFileUploadClick: React.MouseEventHandler<HTMLElement> = () =>\r\n    this.fileInput.click()\r\n\r\n  handleReportProgress = (progress: number) => this.setState({ progress });\r\n\r\n  renderChildren = () => {\r\n    if (this.state.isUploading) {\r\n      return <CircularProgress value={this.state.progress} size={19} />;\r\n    }\r\n    if (this.state.hasError) {\r\n      return (\r\n        <React.Fragment>\r\n          {this.state.errorText}\r\n          <ErrorIcon style={{ marginLeft: '8px' }} />\r\n        </React.Fragment>\r\n      );\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        {this.props.buttonContent}\r\n        {this.props.icon}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Button\r\n          disabled={this.state.isUploading}\r\n          variant=\"contained\"\r\n          color={this.state.hasError ? 'secondary' : 'primary'}\r\n          onClick={this.handleFileUploadClick}\r\n          style={this.props.style}\r\n        >\r\n          {this.renderChildren()}\r\n        </Button>\r\n        {!this.state.isUploading && (\r\n          <input\r\n            style={{ display: 'none' }}\r\n            ref={fileInput => (this.fileInput = fileInput)}\r\n            type=\"file\"\r\n            onChange={this.handleFileSelected}\r\n          />\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageUpload;\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport ColorizeIcon from '@material-ui/icons/Colorize';\r\nimport { ChromePicker, RGBColor } from 'react-color';\r\n\r\nclass ColorPicker extends React.Component {\r\n  static defaultProps = {\r\n    buttonContent: 'Zmień kolor',\r\n    icon: <ColorizeIcon style={{ marginLeft: '4px', fontSize: '19px' }} />,\r\n  };\r\n\r\n  state = {\r\n    isColorPickerVisible: false,\r\n  };\r\n\r\n  handleClickShowColorPicker = () => {\r\n    if (this.props.onDialogOpen) {\r\n      this.props.onDialogOpen();\r\n    }\r\n    this.setState({ isColorPickerVisible: !this.state.isColorPickerVisible });\r\n  }\r\n\r\n  onChange = e =>\r\n    this.props.onChange && this.props.onChange(e.rgb)\r\n\r\n  handleChangeComplete = e =>\r\n    this.props.onChangeComplete && this.props.onChangeComplete(e.rgb)\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Button\r\n          buttonRef={node => {\r\n            this.anchorEl = node;\r\n          }}\r\n          variant=\"contained\"\r\n          onClick={this.handleClickShowColorPicker}\r\n          style={{\r\n            ...this.props.style,\r\n            borderColor: colorToString(this.props.color),\r\n            borderStyle: 'solid',\r\n            borderWidth: '2px',\r\n          }}\r\n        >\r\n          {this.props.buttonContent}\r\n          {this.props.icon}\r\n        </Button>\r\n        <Popover\r\n          className=\"ory-prevent-blur\"\r\n          open={this.state.isColorPickerVisible}\r\n          anchorEl={this.anchorEl}\r\n          onClose={this.handleClickShowColorPicker}\r\n          anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'center',\r\n          }}\r\n          transformOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'center',\r\n          }}\r\n        >\r\n          <div className=\"ory-prevent-blur\">\r\n            <ChromePicker\r\n              color={this.props.color}\r\n              onChange={this.onChange}\r\n              onChangeComplete={this.handleChangeComplete}\r\n            />\r\n          </div>\r\n        </Popover>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport { RGBColor };\r\n\r\nexport const colorToString = (c) =>\r\n  c && 'rgba(' + c.r + ', ' + c.g + ', ' + c.b + ', ' + c.a + ')';\r\n\r\nexport default ColorPicker;\r\n","import * as React from 'react';\nimport { ImageControlsProps } from '../types/controls';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { ImageUpload, BottomToolbar } from 'components/Editor';\n\nimport { darkTheme, default as ThemeProvider } from 'ory-editor-ui/lib/ThemeProvider';\n\nconst ImageDefaultControls: React.SFC<ImageControlsProps> = props => {\n  const { Renderer, handleImageLoaded, handleImageUploaded, handleChange, readOnly, focused } = props;\n  return (\n    <div>\n      <Renderer {...props} imagePreview={props.imagePreview} />\n      {!readOnly && focused && <ThemeProvider theme={darkTheme}>\n        <BottomToolbar className=\"\" open={props.focused} theme={darkTheme}>\n          <div style={{ display: 'flex' }}>\n            {props.imageUpload && (\n              <React.Fragment>\n                <ImageUpload\n                  imageUpload={props.imageUpload}\n                  imageLoaded={handleImageLoaded}\n                  imageUploaded={handleImageUploaded}\n                />\n                <Typography\n                  variant=\"body1\"\n                  style={{ marginLeft: '20px', marginRight: '20px' }}\n                >\n                  OR\n                </Typography>\n              </React.Fragment>\n            )}\n            <TextField\n              placeholder=\"http://example.com/image.png\"\n              label={'Adres zdjęcia'}\n              name=\"src\"\n              style={{ flex: 1 }}\n              value={props.state.src}\n              onChange={handleChange}\n            />\n          </div>\n          <TextField\n            placeholder=\"http://example.com\"\n            label=\"Link (opcjonalnie)\"\n            name=\"href\"\n            style={{ width: '512px' }}\n            value={props.state.href}\n            onChange={handleChange}\n          />\n          <br />\n          <br />\n          <FormControlLabel\n            control={\n              <Checkbox\n                checked={props.state.target === '_blank'}\n                name=\"target\"\n                onChange={handleChange}\n              />\n            }\n            label=\"Otwieraj w nowym oknie\"\n          />\n        </BottomToolbar>\n      </ThemeProvider>}\n    </div>\n  );\n};\n\nexport default ImageDefaultControls;\n","import createPlugin from './createPlugin';\nimport ImageHtmlRenderer from './Renderer/ImageHtmlRenderer';\nimport ImageDefaultControls from './Controls/ImageDefaultControls';\nimport { ContentPluginConfig } from 'ory-editor-core/lib/service/plugin/classes';\nimport { ImageState } from './types/state';\nimport { ImageSettings } from './types/settings';\n\nconst imagePlugin: (\n  settings?: Partial<ImageSettings>\n) => ContentPluginConfig<ImageState> = settings =>\n  createPlugin({\n    Renderer: ImageHtmlRenderer,\n    Controls: ImageDefaultControls,\n    ...settings,\n  });\n\nconst image = imagePlugin();\nexport default image;\n\nexport { imagePlugin };\n","import Editor from \"ory-editor-core\";\r\nimport divider from \"ory-editor-plugins-divider\";\r\nimport slate from \"ory-editor-plugins-slate\";\r\nimport parallax from \"ory-editor-plugins-parallax-background\";\r\nimport { imagePlugin } from 'components/ImageUpload';\r\nimport spacer from \"ory-editor-plugins-spacer\";\r\nimport imageUpload from './imageUpload';\r\n\r\nconst image = imagePlugin({ imageUpload });\r\n\r\nexport const editorPlugins = {\r\n  content: [slate(), spacer, divider, image],\r\n  layout: [parallax({ defaultPlugin: slate() })],\r\n};\r\n\r\nexport const editor = new Editor({\r\n  plugins: editorPlugins,\r\n  defaultPlugin: slate(),\r\n  editables: [],\r\n});\r\n\r\nexport const updateEditorContent = editor.trigger.editable.update;\r\n","import { compose, withProps } from 'recompose'\r\nimport { connect } from 'react-redux'\r\nimport withRedirect from 'helpers/withRedirect'\r\nimport withIsSignedIn from 'helpers/withIsSignedIn'\r\nimport SubtabsItem from './SubtabsItem'\r\nimport { Creators } from 'containers/Content/module'\r\nimport { withFirestore } from 'react-redux-firebase'\r\nimport { updateEditorContent } from 'services/editor'\r\n\r\nexport default compose(\r\n  connect(\r\n    ({ firestore }) => ({ data: firestore.data }),\r\n    { setContent: Creators.setContent, setPath: Creators.setPath }\r\n  ),\r\n  withRedirect,\r\n  withFirestore,\r\n  withProps(({ firestore, data, redirect, setPath, tabRoute, subTabRoute, setContent, tabId, subTabId }) => ({\r\n    removeTab: e => {\r\n      e.stopPropagation()\r\n      redirect(`/`)\r\n      firestore.delete({\r\n        collection: 'tabs',\r\n        doc: tabId,\r\n        subcollections: [{ collection: 'subtabs', doc: subTabId }]\r\n      })\r\n    },\r\n    onRedirect: () => {\r\n      const content = JSON.parse(data[tabId][subTabId].content)\r\n\r\n      setPath(tabId, subTabId)\r\n      setContent(content)\r\n      updateEditorContent(content)\r\n      redirect(`/${tabRoute}/${subTabRoute}`)\r\n    }\r\n  })),\r\n  withIsSignedIn\r\n)(SubtabsItem)\r\n","import React from 'react'\r\nimport { NavDropdown } from 'react-bootstrap'\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle'\r\nimport { CREATE_TAB_MODAL } from 'constants/modals'\r\nimport SubtabsItem from './SubtabsItem'\r\nimport './style.css'\r\n\r\nconst MenuItem = ({\r\n  name,\r\n  tabRoute,\r\n  subtabs,\r\n  isSignedIn,\r\n  show,\r\n  setTabId,\r\n  tabId\r\n}) => (\r\n  <NavDropdown\r\n    onClick={() => setTabId(tabId)}\r\n    title={name}\r\n    id={name}\r\n    className='MenuItem__wrapper'\r\n  >\r\n    {subtabs.map(({ name, id, route }) =>\r\n      <SubtabsItem\r\n        key={id}\r\n        tabId={tabId}\r\n        subTabId={id}\r\n        tabRoute={tabRoute}\r\n        subTabRoute={route}\r\n        name={name}\r\n      />\r\n    )}\r\n    {isSignedIn && (\r\n      <>\r\n        <NavDropdown.Divider />\r\n        <NavDropdown.Item\r\n          className='MenuItem__item'\r\n          onClick={() => show(CREATE_TAB_MODAL)}\r\n        >\r\n          Dodaj zakładkę\r\n          <AddCircleIcon />\r\n        </NavDropdown.Item>\r\n      </>\r\n    )}\r\n  </NavDropdown>\r\n)\r\n\r\nexport default MenuItem\r\n","export const CREATE_TAB_MODAL = 'CreateTabModal'\r\n","import { compose } from 'recompose'\r\nimport { connect } from 'react-redux'\r\nimport { show } from 'redux-modal'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport withIsSignedIn from 'helpers/withIsSignedIn'\r\nimport withRedirect from 'helpers/withRedirect'\r\nimport MenuItem from './MenuItem'\r\n\r\nexport default compose(\r\n  firestoreConnect(({ tabId }) => [{\r\n    collection: 'tabs',\r\n    doc: tabId,\r\n    subcollections: [{ collection: 'subtabs' }],\r\n    storeAs: tabId\r\n  }]),\r\n  connect(\r\n    ({ firestore }, { tabId }) => ({\r\n      subtabs: firestore.ordered[tabId] || []\r\n    }),\r\n    { show }\r\n  ),\r\n  withRedirect,\r\n  withIsSignedIn\r\n)(MenuItem)\r\n","import React from 'react'\r\nimport { FormControl } from 'react-bootstrap'\r\n\r\nconst Input = ({ input, meta, ...props }) =>\r\n  <FormControl {...props} {...input} />\r\n\r\nexport default Input\r\n","import React from 'react'\r\nimport { Button, Modal } from 'react-bootstrap'\r\nimport { Field } from 'redux-form'\r\nimport Input from 'components/Input'\r\n\r\nconst CreateTab = ({ show, handleHide, handleSubmit }) =>\r\n  <Modal show={show}>\r\n    <Modal.Header>\r\n      <Modal.Title>Dodaj nową zakładkę</Modal.Title>\r\n    </Modal.Header>\r\n    <Modal.Body>\r\n      <Field name=\"name\" component={Input} type=\"text\" />\r\n    </Modal.Body>\r\n    <Modal.Footer>\r\n      <Button onClick={handleHide} variant=\"danger\">Anuluj</Button>\r\n      <Button onClick={handleSubmit} variant=\"success\">\r\n        Zapisz\r\n      </Button>\r\n    </Modal.Footer>\r\n  </Modal>\r\n\r\nexport default CreateTab\r\n","export const getInitialContent = name => `{\r\n  \"id\":\"43811756-9862-4f75-9d6f-7796f4ec67c4\",\r\n  \"cells\":[{\r\n    \"id\":\"4db15054-47a6-4f5f-8b03-4cd97665d530\",\r\n    \"inline\":null,\r\n    \"size\":12,\r\n    \"rows\":[{\r\n      \"id\":\"df018535-ce57-4a3b-88f7-844ca83302ed\",\r\n      \"cells\":[{\r\n        \"id\":\"e9bf0a15-8bab-40c3-b994-f6276548485c\",\r\n        \"inline\":null,\r\n        \"size\":12,\r\n        \"content\":{\r\n          \"plugin\":{\r\n            \"name\":\"ory/editor/core/content/slate\",\r\n            \"version\":\"0.0.2\"\r\n          },\r\n          \"state\":{\r\n            \"serialized\":{\r\n              \"object\":\"value\",\r\n              \"document\":{\r\n                \"object\":\"document\",\r\n                \"data\":{},\r\n                \"nodes\":[{\r\n                  \"object\":\"block\",\r\n                  \"type\":\"HEADINGS/HEADING-TWO\",\r\n                  \"data\":{\r\n                    \"align\":\"center\"\r\n                  },\r\n                  \"nodes\":[{\r\n                    \"object\":\"text\",\r\n                    \"leaves\":[{\r\n                      \"object\":\"leaf\",\r\n                      \"text\":\"${name}\",\r\n                      \"marks\":[{\r\n                        \"object\":\"mark\",\r\n                        \"type\":\"EMPHASIZE/EM\",\r\n                        \"data\":{}\r\n                      }]\r\n                    }]\r\n                  }]\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }]\r\n    },\r\n    {\r\n      \"id\":\"f0ee0ef5-8413-4594-8714-3361702e2017\",\r\n      \"cells\":[{\r\n        \"id\":\"3c55c879-239d-4915-814f-65f5ec90486b\",\r\n        \"inline\":null,\r\n        \"size\":12,\r\n        \"content\":{\r\n          \"plugin\":{\r\n            \"name\":\"ory/editor/core/content/divider\",\r\n            \"version\":\"0.0.1\"\r\n          },\r\n          \"state\":{}\r\n        }\r\n      }]\r\n    },\r\n    {\r\n      \"id\":\"d7182d5c-347f-4e4a-8b7b-b074bc48c838\",\r\n      \"cells\":[{\r\n        \"id\":\"02ec6ef9-0db6-4ee9-b402-7ada5a3b5753\",\r\n        \"inline\":null,\r\n        \"size\":12,\r\n        \"content\":{\r\n          \"plugin\":{\r\n            \"name\":\"ory/editor/core/content/slate\",\r\n            \"version\":\"0.0.2\"\r\n          },\r\n          \"state\":{\r\n            \"serialized\":{\r\n              \"object\":\"value\",\r\n              \"document\":{\r\n                \"object\":\"document\",\r\n                \"data\":{},\r\n                \"nodes\":[{\r\n                  \"object\":\"block\",\r\n                  \"type\":\"PARAGRAPH/PARAGRAPH\",\r\n                  \"data\":{},\r\n                  \"nodes\":[{\r\n                    \"object\":\"text\",\r\n                    \"leaves\":[{\r\n                      \"object\":\"leaf\",\r\n                      \"text\":\"\",\r\n                      \"marks\":[]\r\n                    }]\r\n                  }]\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }]\r\n    }]\r\n  }]\r\n}`\r\n","import { reduxForm } from 'redux-form'\r\nimport { compose } from 'recompose'\r\nimport { connectModal } from 'redux-modal'\r\nimport { withFirestore } from 'react-redux-firebase'\r\nimport { CREATE_TAB_MODAL } from 'constants/modals'\r\nimport { CREATE_TAB_FORM } from 'constants/forms'\r\nimport CreateTab from './CreateTab'\r\nimport { getInitialContent } from './helpers'\r\n\r\nexport default compose(\r\n  connectModal({ name: CREATE_TAB_MODAL }),\r\n  withFirestore,\r\n  reduxForm({\r\n    form: CREATE_TAB_FORM,\r\n    onSubmit: ({ name }, _, { firestore, handleHide, tabId }) => {\r\n      firestore.add(\r\n        {\r\n          collection: 'tabs',\r\n          doc: tabId,\r\n          subcollections: [{ collection: 'subtabs' }]\r\n        },\r\n        {\r\n          name,\r\n          route: name.toLowerCase().split(' ').join('-'),\r\n          content: getInitialContent(name)\r\n        }\r\n      ).then(handleHide)\r\n    }\r\n  })\r\n)(CreateTab)\r\n","export const CREATE_TAB_FORM = 'CreateTabForm'\r\n","import React from 'react'\r\nimport { Navbar, Nav } from 'react-bootstrap'\r\nimport { HEADER_NAVBAR } from 'constants/other'\r\nimport logo from '../../assets/logo.svg'\r\nimport MenuItem from './MenuItem'\r\nimport './style.css'\r\nimport CreateTab from './CreateTab'\r\n\r\nconst Header = ({ tabs, redirect, tabId, setTabId, opened, setOpened }) => (\r\n  <div className=\"Header__header\">\r\n    <CreateTab tabId={tabId} />\r\n    <Navbar collapseOnSelect expand=\"lg\" expanded={opened} onToggle={setOpened} fixed=\"top\">\r\n      <Navbar.Brand onClick={() => redirect('/')}>\r\n        <img src={logo} alt=\"logo\" className=\"Header__logo\" />\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls={HEADER_NAVBAR} />\r\n      <Navbar.Collapse id={HEADER_NAVBAR}>\r\n        <Nav className=\"ml-auto\">\r\n          {tabs.map(({ name, route, id }) => (\r\n            <MenuItem\r\n              key={id}\r\n              tabId={id}\r\n              tabRoute={route}\r\n              {...{ setTabId, name }}\r\n            />\r\n          ))}\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  </div>\r\n)\r\n\r\nexport default Header\r\n","export const HEADER_NAVBAR = 'header-navbar'\r\n\r\nexport const TABS_LENGTH = 6\r\n\r\nexport const IMAGE_UPLOAD_API = '5058b5e47638fc981d58e819ac1e2fd6'","import { compose, withState } from 'recompose'\r\nimport { connect } from 'react-redux'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport withIsLoading from 'helpers/withIsLoading'\r\nimport withRedirect from 'helpers/withRedirect'\r\nimport { store } from 'services/store'\r\nimport { Reducer, Creators } from './module'\r\nimport Header from './Header'\r\n\r\nstore.injectReducer('header', Reducer)\r\n\r\nexport default compose(\r\n  firestoreConnect([{\r\n    collection: 'tabs',\r\n    orderBy: 'orderId'\r\n  }]),\r\n  connect(\r\n    ({ firestore, header }) => ({\r\n      tabs: firestore.ordered.tabs || [],\r\n      opened: header.opened\r\n    }),\r\n    { setOpened: Creators.setOpened }\r\n  ),\r\n  withIsLoading,\r\n  withRedirect,\r\n  withState('tabId', 'setTabId')\r\n)(Header)\r\n","import React from 'react'\r\nimport hello from '../../assets/hello.svg'\r\nimport './style.css'\r\n\r\nconst Home = ({ redirect }) => (\r\n  <div className=\"Home__wrapper\">\r\n    <img src={hello} alt=\"hello\" className=\"Home__hello\" />\r\n    <div\r\n      className=\"Home__button\"\r\n      onClick={() => redirect('/aktualnosci/aktualności')}\r\n    >\r\n      Przejdź do aktualności\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default Home\r\n","import { branch, renderNothing } from 'recompose'\r\n\r\nconst withIsHidden = branch(({ isHidden }) => isHidden, renderNothing)\r\n\r\nexport default withIsHidden\r\n","import Home from './Home'\r\nimport { compose } from 'recompose'\r\nimport { connect } from 'react-redux'\r\nimport withIsHidden from 'helpers/withIsHidden'\r\nimport withRedirect from 'helpers/withRedirect'\r\n\r\nexport default compose(\r\n  connect(state => ({\r\n    isHidden: state.router.location.pathname !== '/'\r\n  })),\r\n  withIsHidden,\r\n  withRedirect\r\n)(Home)\r\n","import React from 'react'\r\nimport './style.css'\r\n\r\nconst LoginButton = ({ login, logout, isSignedIn }) => (\r\n  <div className='LoginButton__button' onClick={isSignedIn ? logout : login}>\r\n    {isSignedIn ? 'Wyloguj' : 'Zaloguj'}\r\n  </div>\r\n)\r\n\r\nexport default LoginButton\r\n","import { withProps, compose } from 'recompose'\r\nimport { withFirebase } from 'react-redux-firebase'\r\nimport LoginButton from './LoginButton'\r\nimport withIsSignedIn from 'helpers/withIsSignedIn'\r\n\r\n\r\nexport default compose(\r\n  withIsSignedIn,\r\n  withFirebase,\r\n  withProps(({ firebase }) => ({\r\n    login: () => {\r\n      const googleAuthProvider = new firebase.auth.GoogleAuthProvider()\r\n      firebase.auth().signInWithPopup(googleAuthProvider)\r\n    },\r\n    logout: () => {\r\n      firebase.auth().signOut()\r\n    }\r\n  }))\r\n)(LoginButton)\r\n","import React from 'react'\r\nimport logo from '../../assets/logo.svg'\r\nimport LoginButton from './LoginButton'\r\nimport './style.css'\r\n\r\nconst Footer = () => (\r\n  <div className=\"Footer__wrapper\">\r\n    <footer className=\"Footer__footer\">\r\n      <span className=\"Footer__logo\">\r\n        <img src={logo} alt=\"logo\" />\r\n        <LoginButton />\r\n      </span>\r\n      <div className=\"Footer__info-wrapper\">\r\n        <div className=\"Footer__address Footer__info-item\">\r\n          <span>Przedszkole nr 3 w Przemyślu</span>\r\n          <span>ul. Barska 10</span>\r\n          <span>37-700 Przemyśl</span>\r\n        </div>\r\n        <div className=\"Footer__info-item\">\r\n          (16) 670 04 51\r\n        </div>\r\n        <a href=\"http://przemyslp3.pl\" className=\"Footer__info-item\">\r\n          http://przemyslp3.pl\r\n        </a>\r\n      </div>\r\n    </footer>\r\n  </div>\r\n)\r\n\r\nexport default Footer\r\n","import React from 'react'\r\nimport banner from '../../assets/banner.svg'\r\nimport './style.css'\r\n\r\nconst Banner = () => (\r\n  <div>\r\n    <img src={banner} alt=\"banner\" className=\"Banner__img\" />\r\n  </div>\r\n)\r\n\r\nexport default Banner\r\n","import React, { useState, useCallback, useEffect } from 'react'\r\nimport { Editable } from 'ory-editor-core'\r\nimport { Trash, DisplayModeToggle, Toolbar } from 'components/Editor'\r\nimport { updateEditorContent, editor } from 'services/editor'\r\nimport './style.css'\r\n\r\nconst Content = ({ isSignedIn, content, setContent, save, isDirty, setDirty }) => {\r\n  const [template, setTemplate] = useState(content)\r\n\r\n  const onSetTemplate = data => {\r\n    setTemplate(data)\r\n    if (!isDirty && JSON.stringify(content) !== JSON.stringify(template)) {\r\n      setDirty()\r\n    }\r\n  }\r\n\r\n  const onSave = useCallback(() => {\r\n    setContent(template)\r\n    updateEditorContent(template)\r\n    save({ content: JSON.stringify(template) })\r\n  }, [template, save, setContent])\r\n\r\n  useEffect(() => {\r\n    if (!isSignedIn) {\r\n      window.scrollTo(0, 0)\r\n    }\r\n  }, [content])\r\n\r\n  return (\r\n    <div className=\"Content__wrapper\">\r\n      <div className=\"Content__content\">\r\n        <Editable editor={editor} id={content.id} onChange={onSetTemplate} />\r\n        {isSignedIn &&\r\n          <>\r\n            <Trash editor={editor}/>\r\n            <DisplayModeToggle editor={editor} onSave={onSave} />\r\n            <Toolbar editor={editor}/>\r\n          </>\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Content\r\n","import { compose, withProps, lifecycle } from 'recompose'\r\nimport withIsHidden from 'helpers/withIsHidden'\r\nimport Content from './Content'\r\nimport { connect } from 'react-redux'\r\nimport withIsSignedIn from 'helpers/withIsSignedIn'\r\nimport { withFirestore } from 'react-redux-firebase'\r\nimport { sendNotification } from 'containers/App/module'\r\nimport { store } from 'services/store'\r\nimport { TABS_LENGTH } from 'constants/other'\r\nimport { Reducer, Creators } from './module'\r\nimport { updateEditorContent } from 'services/editor'\r\n\r\nstore.injectReducer('content', Reducer)\r\n\r\nexport default compose(\r\n  connect(\r\n    ({ router, content, firestore }) => ({\r\n      isHidden: !content.content || router.location.pathname === '/',\r\n      tabId: content.tabId,\r\n      subTabId: content.subTabId,\r\n      isDirty: content.isDirty,\r\n      content: content.content,\r\n      data: firestore.data,\r\n      ordered: firestore.ordered,\r\n      pathname: router.location.pathname\r\n    }),\r\n    dispatch => ({\r\n      saveNotif: (text, kind) => sendNotification(text, kind)(dispatch),\r\n      setDirty: isDirty => dispatch(Creators.setDirty(isDirty)),\r\n      setContent: content => dispatch(Creators.setContent(content)),\r\n      setPath: (...tabs) => dispatch(Creators.setPath(...tabs))\r\n    })\r\n  ),\r\n  lifecycle({\r\n    componentDidUpdate() {\r\n      const { content, data, ordered, pathname, setContent, setPath } = this.props\r\n      if (!content && pathname !== '/' && Object.keys(data).length === TABS_LENGTH) {\r\n        const [, tabRoute, subTabRoute] = pathname.split('/')\r\n        const tab = ordered.tabs.find(({ route }) => route === tabRoute)\r\n        const subTab = ordered[tab.id].find(({ route }) => route === subTabRoute)\r\n        const content = JSON.parse(subTab.content)\r\n\r\n        setPath(tab.id, subTab.id)\r\n        setContent(content)\r\n        updateEditorContent(content)\r\n      }\r\n    }\r\n  }),\r\n  withIsHidden,\r\n  withFirestore,\r\n  withProps(({ tabId, subTabId, firestore, saveNotif }) => ({\r\n    save: data => {\r\n      firestore.update({\r\n        collection: 'tabs',\r\n        doc: tabId,\r\n        subcollections: [{ collection: 'subtabs', doc: subTabId }]\r\n      }, data).then(\r\n        () => saveNotif('Zmiany zostały zapisane!', 'success'),\r\n        () => saveNotif('Coś poszło nie tak!', 'danger')\r\n      )\r\n    }\r\n  })),\r\n  withIsSignedIn\r\n)(Content)\r\n","import { actions as notifActions } from 'redux-notifications'\r\n\r\nexport const sendNotification = (\r\n  message,\r\n  kind = 'success',\r\n  dismissAfter = 2000\r\n) =>\r\n  notifActions.notifSend({\r\n    message,\r\n    kind,\r\n    dismissAfter\r\n  })\r\n","import React from 'react'\r\nimport { Provider as ReduxProvider} from 'react-redux'\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport { firebase, rrfConfig } from 'services/firebase'\r\nimport { ReactReduxFirebaseProvider } from 'react-redux-firebase'\r\nimport { createFirestoreInstance } from 'redux-firestore'\r\nimport { store, history } from 'services/store'\r\nimport { Notifs } from 'redux-notifications'\r\n\r\nimport Header from '../Header'\r\nimport Home from '../Home'\r\nimport Footer from '../Footer'\r\nimport Banner from '../Banner'\r\nimport Content from '../Content'\r\n\r\nimport './style.css'\r\n\r\nconst App = () => (\r\n  <div className=\"App__wrapper\">\r\n    <ReduxProvider store={store}>\r\n      <Notifs store={store} />\r\n      <ReactReduxFirebaseProvider\r\n        firebase={firebase}\r\n        dispatch={store.dispatch}\r\n        config={rrfConfig}\r\n        createFirestoreInstance={createFirestoreInstance}\r\n      >\r\n        <ConnectedRouter history={history}>\r\n          <Header />\r\n          <Home />\r\n          <Banner />\r\n          <Content />\r\n          <Footer />\r\n        </ConnectedRouter>\r\n      </ReactReduxFirebaseProvider>\r\n    </ReduxProvider>\r\n  </div>\r\n);\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './containers/App'\r\nimport * as serviceWorker from './serviceWorker'\r\nimport './services/firebase'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.d33072d4.svg\";","module.exports = __webpack_public_path__ + \"static/media/hello.334edff6.svg\";","module.exports = __webpack_public_path__ + \"static/media/banner.0a723e0c.svg\";"],"sourceRoot":""}